<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" width="965" height="400"
		   backgroundImage="@Embed(source='assets/intro_background.jpg')"
		   creationComplete="init()">
	<mx:Script>
		<![CDATA[
			import mx.core.Application;
			import mx.managers.PopUpManager;
			function init() {
				txtGameRule.htmlText =
					"Bạn có biết game Motion tracking?<br />" +
					"Bạn có muốn thử game này không?<br />" +
					"Nếu có, bạn hãy đến với chương trình “Chế biến mì dai – Nhận ngay ipad” của nhãn hàng Mì 3 miền Gold để có cơ hội trải nghiệm game mới lạ, thú vị cũng như có cơ hội nhận những giải thưởng có giá trị.<br />" +
					"<strong><u>I. Điều kiện tham gia:</u></strong><br />" +
					"<ul><li>Tất cả mọi người đang sinh sống, làm việc tại 6 thành phố lớn: thủ đô Hà Nội, thành phố Hải Phòng, Đà Nẵng, Nha Trang, Hồ Chí Minh, Cần Thơ.</li>" +
					"<li>Bạn chỉ cần đăng kí chơi game để thuận tiện cho việc trao quà về sau khi thắng cuộc, người chơi chỉ cần điền đầy đủ thông tin sau:<br />" +
					"Họ tên:         <br />" +
					"Năm sinh	 Điện thoại liên lạc:<br />" +
					"Địa chỉ:                Quận(huyện):                Tỉnh thành:<br />" +
					"Email:                                               <br />" +
					"Tôi đã đọc và đồng ý với mọi điều khoản chương trình.<br />" +
					"<strong>Hoàn tất</strong>" +
					"</li></ul><br />" +
					"<strong><u>II. Thời gian và nội dung chương trình:</u></strong><br />" +
					"Cuộc thi sẽ được diễn ra trong 2 vòng.<br />" +
					"<ul>" +
					"<li><strong>Vòng thi ngày:</strong> diễn ra hàng ngày từ 07/05/2012 – 03/06/2012</li>" +
					"<li><strong>Vòng thi tuần:</strong> diễn ra vào cuối mỗi tuần (các ngày 13/05, 20/05, 27/05, 03/06)</li>" +
					"<li><strong>Vòng thi đặc biệt:</strong> cuối chương trình : ngày 04/06/2012</li>" +
					"<strong>1. Vòng thi ngày:</strong><br />" +
					"<strong>	Cách thức tham gia:</strong><br />" +
					"- Bước 1: Người tham gia sẽ đăng kí thông tin để chơi trò chơi.<br />" +
					"- Bước 2: Người tham gia có thể lựa chọn 1 trong 2 hình thức chơi game như sau:<br />" +
					"+ Chơi game bằng webcam:  dựa vào cử động của tay thông qua webcam.<br />" +
					"+ Với các trường hợp người tham gia không có webcam thì có thể sử dụng các phím Arrow.<br />" +
					"- Bước 3: Mỗi người tham gia sẽ có 1phút 30s cho phần chơi của mình. Sau khi kết thúc, số điểm của người tham gia sẽ được hiện lên “High Score” nằm bên phải màn hình. Đồng thời, Admin sẽ gửi email cho người tham gia thông báo số điểm đạt được.<br />" +
					"<strong>	Cách chấm điểm:</strong><br />" +
					"- Mỗi ngày, người tham gia sẽ được chơi game trong nhiều lần nhưng chỉ tính điểm 01 lần là điểm cao nhất trong ngày. Người tham gia được chơi nhiều lần trong các ngày khác và được tính điểm cao nhất.<br />" +
					"- Nếu lượt chơi trong ngày của người tham gia nằm trong Top 20 người có số điểm cao nhất thì người tham gia sẽ trở thành người thắng cuộc.<br />" +
					"- Người thắng cuộc trong cuộc thi ngày thì vẫn có thể tiếp tục chơi để thi vòng thi đặc biệt nhưng không được tính cho cuộc thi ngày của các ngày khác dù số điểm của người chơi đó cao nhất trong các ngày khác.<br />" +
					"<strong>	Cơ cấu giải thưởng:</strong><br />" +
					"- Hàng ngày, sẽ có 20 giải thưởng giành cho 20 người chơi có điểm số cao nhất.<br />" +
					"- Phần thưởng là 10 gói mì Reeva 3 miền Gold thơm ngon.<br />" +
					"<strong>2. Vòng thi tuần:</strong><br />" +
					"<strong>	Cách thức và nội dung thi:</strong><br />" +
					"- Tất cả người chơi đều được tham gia vào vòng thi này (bao gồm những người đã trúng giải thưởng ngày).<br />" +
					"- Người tham gia có số điểm cao nhất (thông qua Highscore) trong 01 tuần (điểm của người chơi không được cộng dồn mà chỉ tính điểm cao nhất trong các lần chơi) thì người tham gia sẽ có cơ hội là người chiến thắng cuộc thi tuần<br />" +
					"<strong>	Cơ cấu giải thưởng:</strong><br />" +
					"- Mỗi tuần sẽ có 10 giải thưởng giành cho 10 bạn có điểm số cao nhất<br />" +
					"- Phần thưởng: 06 tháng ăn mì miễn phí tương đương với 04 thùng mì Reeva 3 miền Gold thơm ngon.<br />" +
					"<strong>3. Vòng thi đặc biệt:</strong><br />" +
					"<strong>	Cách thức và nội dung thi:</strong><br />" +
					"- Tất cả người chơi đều được tham gia vào vòng thi này (bao gồm những người đã trúng giải thưởng ngày).<br />" +
					"- Người tham gia có điểm tích lũy hàng ngày cao nhất (thông qua Highscore) trong suốt thời gian diễn ra chương trình (điểm của người chơi không được cộng dồn mà chỉ tính điểm cao nhất trong các lần chơi) thì người tham gia sẽ có cơ hội là người thắng cuộc vòng thi đặc biệt<br />" +
					"<strong>	Cơ cấu giải thưởng:</strong><br />" +
					"-  01 Apple  IPad 3 – 64 GB trị giá 16.000.000 VNĐ<br />" +
					"<strong><u>III. Thời gian kết thúc tính đềm – Thời gian công bố kết quả:</u></strong><br />" +
					"<strong>1. Thời gian kết thúc tính điểm:</strong><br />" +
					"- Hàng ngày: kết thúc vào 21h00<br />" +
					"- Hàng tuần: kết thúc vào 21h00 ngày cuối tuần<br />" +
					"- Đặc biệt: kết thúc vào 21h00 ngày 03/06/2012<br />" +
					"<strong>2. Thời gian công bố kết quả:</strong><br />" +
					"- 9h sáng ngày hôm sau (sau ngày kết thúc tính điểm)<br />" +
					"<strong><u>IV. Hình thức trao giải thưởng:</u></strong><br />" +
					"- Các phần quà sẽ được gửi đến người tham gia thông qua bưu điện theo địa chỉ và số điện thoại cung cấp tại mẫu đơn tham gia trong thời gian sớm nhất.<br />" +
					"- Lưu ý, mỗi người chơi chỉ nhận được quà 1 lần theo địa chỉ đã cung cấp trong mẫu đơn tham gia cho vòng thi ngày nhưng được sử dụng cho các vòng thi khác.<br />" +
					"<strong><em>* Quyết định của Ban Tổ Chức sẽ là quyết định cuối cùng.</em></strong>";
			}
			
			function gameRuleClicked() {
				makeAllInactive();
				gameRule.styleName = "gameRuleActive";
				txtGameRule.visible = true;
				btnStart.visible = true;
			}
			function howToPlayClicked() {
				makeAllInactive();
				howToPlay.styleName = "howToPlayActive";
				canvasHowToPlay.visible = true;
			}
			function hightscoreListLinkClicked() {
				navigateToURL( new URLRequest( "http://viethungfood.com/" ), "_blank" );
			}
			
			function makeAllInactive() {
				gameRule.styleName = "gameRule";
				howToPlay.styleName = "howToPlay";
				txtGameRule.visible = false;
				canvasHowToPlay.visible = false;
				btnStart.visible = false;
			}
			
			function selectKeyboard() {
				Application.application.initKeyboardMode();
				Application.application.setFocus();
				PopUpManager.removePopUp(this);
				Application.application.startCountDown();
			}
			
//			function selectMouse() {
//				Application.application.initMouseMode();
//				PopUpManager.removePopUp(this);	
//				Application.application.startRoullete();
//			}
			
			function selectWebcam() {
				Application.application.initWebcamMode();
				PopUpManager.removePopUp(this);
//				Application.application.startCountDown();
			}
		]]>
	</mx:Script>
	
	<mx:Canvas id="hightscoreListLink" x="280" y="34" width="164" height="35" click="{hightscoreListLinkClicked()}" styleName="hightscoreListLink"
			   useHandCursor="true"
			   buttonMode="true"/>
	
	<mx:Canvas id="howToPlay" x="200" y="34" width="88" height="35" click="{howToPlayClicked()}" styleName="howToPlay"
			   useHandCursor="true"
			   buttonMode="true"/>
	
	<mx:Canvas id="gameRule" x="120" y="34" width="88" height="35" click="{gameRuleClicked()}" styleName="gameRuleActive"
			   useHandCursor="true"
			   buttonMode="true"/>
	
	
	
	<mx:Image id="btnStart" source="@Embed(source='assets/but_play.png')" x="520" y="50" 
			  mouseOver="{glowImage.play([btnStart])}"
			  mouseOut="{unglowImage.play([btnStart])}"
			  click="howToPlayClicked()"
			  useHandCursor="true"
			  buttonMode="true"/>
	<mx:TextArea id="txtGameRule" styleName="txtGameRule" editable="false" width="486" height="266" x="90" y="80"
				 paddingLeft="20" paddingBottom="20" paddingRight="20" paddingTop="20" fontStyle="normal" backgroundAlpha="1.0" alpha="1.0" wordWrap="true"/>
	<mx:Canvas id="canvasHowToPlay" width="550" height="290" x="90" y="80" visible="false" 
			   verticalScrollPolicy="off" horizontalScrollPolicy="off">
		<mx:Image id="optMotion" source="@Embed(source='assets/opt_motion.png')"
				  mouseOver="{glowImage.play([optMotion])}"
				  mouseOut="{unglowImage.play([optMotion])}"
				  useHandCursor="true"
				  buttonMode="true"
				  click="selectWebcam()"/>
		<mx:Image id="optKey" source="@Embed(source='assets/opt_keys.png')" x="400" y="140" 
				  mouseOver="{glowImage.play([optKey])}"
				  mouseOut="{unglowImage.play([optKey])}"
				  useHandCursor="true"
				  buttonMode="true"
				  click="selectKeyboard()"/>
	</mx:Canvas>
	<mx:Glow id="glowImage" duration="200"
			 alphaFrom="1.0" alphaTo="0.3"
			 blurXFrom="0.0" blurXTo="30.0"
			 blurYFrom="0.0" blurYTo="30.0"
			 color="0x0000FF"/>
	<mx:Glow id="unglowImage" duration="200"
			 alphaFrom="0.3" alphaTo="1.0"
			 blurXFrom="30.0" blurXTo="0.0"
			 blurYFrom="30.0" blurYTo="0.0"
			 color="0x0000FF"/>
	
</mx:Canvas>
